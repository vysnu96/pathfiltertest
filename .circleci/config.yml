version: 2.1

parameters:
  first:
    type: boolean
    default: false

jobs:
  build:
    docker:
      - image: cimg/base:2023.02
    resource_class: small
    steps:
      - run:
          name: Build Image on condition
          command: |
            if [[ $CIRCLE_BRANCH == "dev" || $CIRCLE_BRANCH == "qa" ]]; then
                echo "From dev or qa"
            else
                echo "From test"
              
            fi   

workflows:
  deploy:
    when:
      or:
        - << pipeline.parameters.first >>
    jobs:
      - build



